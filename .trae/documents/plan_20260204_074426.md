## 后台管理功能完善计划

### 需求分析

当前后台管理只有基础的仪表盘、文章管理和用户管理，需要完善以下功能：

1. **分类管理**：

   * 查看所有分类列表

   * 添加新分类

   * 编辑分类名称

   * 删除分类（检查是否有文章使用）

   * 显示每个分类下的文章数量

2. **标签管理**：

   * 查看所有标签

   * 显示每个标签下的文章列表

   * 显示标签使用次数统计

   * 合并重复标签

3. **网站设置**：

   * 基本信息：网站标题、描述、关键词

   * 社交链接：GitHub、Twitter等

   * SEO设置：站长验证、统计分析代码

   * 功能开关：评论系统、RSS订阅等

### 技术方案

#### 1. 数据结构设计

**分类对象**：

```json
{
  "id": "uuid",
  "name": "分类名称",
  "slug": "分类别名(URL友好)",
  "description": "分类描述",
  "article_count": 5,
  "created_at": "创建时间"
}
```

**标签对象**：

```json
{
  "name": "标签名",
  "slug": "标签别名",
  "article_count": 10,
  "articles": ["文章1", "文章2"]
}
```

**网站设置**：

```json
{
  "site_title": "我的博客",
  "site_description": "这是一个个人博客",
  "site_keywords": "博客,技术,生活",
  "social_links": {
    "github": "",
    "twitter": ""
  },
  "seo": {
    "baidu_verification": "",
    "google_verification": ""
  },
  "features": {
    "comments_enabled": true,
    "rss_enabled": true
  }
}
```

#### 2. 后端API设计

**分类管理API**：

* `GET /api/admin/categories` - 获取所有分类

* `POST /api/admin/categories` - 创建分类

* `PUT /api/admin/categories/<id>` - 更新分类

* `DELETE /api/admin/categories/<id>` - 删除分类

**标签管理API**：

* `GET /api/admin/tags` - 获取所有标签统计

* `DELETE /api/admin/tags/<name>` - 删除标签

**网站设置API**：

* `GET /api/admin/settings` - 获取设置

* `PUT /api/admin/settings` - 更新设置

#### 3. 前端实现

**分类管理页面**：

* 分类列表表格

* 添加/编辑分类弹窗

* 删除确认提示

**标签管理页面**：

* 标签云/列表展示

* 点击查看标签下的文章

* 使用次数统计

**网站设置页面**：

* 表单式设置

* 实时预览功能

* 保存/重置按钮

### 实施步骤

#### 步骤1：创建后端数据存储

* 创建 `data/settings.json` 存储网站设置

* 分类从文章metadata中提取

* 标签从文章tags中提取

#### 步骤2：添加后端API

* 实现分类管理API

* 实现标签统计API

* 实现网站设置API

#### 步骤3：添加前端API服务

* 在api.ts中添加新的API调用

#### 步骤4：创建前端组件

* Categories.tsx - 分类管理

* Tags.tsx - 标签管理

* Settings.tsx - 网站设置

#### 步骤5：更新Admin.tsx

* 集成新组件

* 更新导航逻辑

### 预期效果

* ✅ 管理员可以在后台管理系统分类

* ✅ 管理员可以查看标签使用统计

* ✅ 管理员可以配置网站各项设置

* ✅ 设置修改后实时生效

